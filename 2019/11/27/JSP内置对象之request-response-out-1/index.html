<html>
<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">

  
  <title>
    JSPå†…ç½®å¯¹è±¡ä¹‹request response out |
    æ··ä¸–å¤§é­”ç‹
  </title>
  


  <meta name="description" content>
  <meta name="author" content="John Doe">
  <meta property="og:title" content="JSPå†…ç½®å¯¹è±¡ä¹‹request response out">
  <meta property="og:description" content>
  <meta property="og:site_name" content="æ··ä¸–å¤§é­”ç‹">
  <meta property="og:image" content="http://yoursite.com/img/default.jpg">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:description" content>
  <meta name="twitter:title" content="JSPå†…ç½®å¯¹è±¡ä¹‹request response out">

  <meta name="twitter:image" content="http://yoursite.com/img/default.jpg">

  <script src="https://www.amcharts.com/lib/4/core.js"></script>
  <script src="https://www.amcharts.com/lib/4/charts.js"></script>
  <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
  <link rel="stylesheet" href="/./css/style.css">

</head>

<body>
    <!-- Menu -->
    <nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark page-navbar gradient">
  <div class="container">
    <a class="navbar-brand logo" href="http://yoursite.com">
      æ··ä¸–å¤§é­”ç‹</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mx-auto">
        <li class="nav-item item">
          
        <li class="nav-item item">
          <a class="nav-link" href="/">
            Home</a>
        </li>
        
        <li class="nav-item item">
          <a class="nav-link" href="/archives">
            ğŸ—‚ï¸Archives</a>
        </li>
        
        <li class="nav-item item">
          <a class="nav-link" href="https://hexo.io/">
            Hexo</a>
        </li>
        
        </li>
      </ul>
    </div>
  </div>
</nav>

    <main class="page main-page">
        <div class="container blogPost">
    <div class="row">
        <div class="col-sm-8">
            <h2 class="blog-post-title">
                JSPå†…ç½®å¯¹è±¡ä¹‹request response out
            </h2>
            <p class="meta"><i class="far fa-clock"></i>
                2019-11-27
                
            </p>
            <!-- Content -->
            <h2 id="ä¸€ã€outå¯¹è±¡ï¼š"><a href="#ä¸€ã€outå¯¹è±¡ï¼š" class="headerlink" title="ä¸€ã€outå¯¹è±¡ï¼š"></a>ä¸€ã€outå¯¹è±¡ï¼š</h2><p>outå¯¹è±¡æ˜¯<strong>JspWriter</strong>ç±»çš„å®ä¾‹ï¼Œæ˜¯å‘å®¢æˆ·ç«¯è¾“å‡ºå†…å®¹å¸¸ç”¨çš„å¯¹è±¡ã€‚<br>å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.<span class="function"><span class="keyword">void</span> <span class="title">println</span><span class="params">()</span> å‘å®¢æˆ·ç«¯æ‰“å°å­—ç¬¦ä¸²2.<span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span>  æ¸…é™¤ç¼“å†²åŒºçš„å†…å®¹ï¼Œå¦‚æœåœ¨<span class="title">flush</span><span class="params">()</span>ä¹‹åè°ƒç”¨ä¼šæŠ›å‡ºå¼‚å¸¸3.<span class="keyword">void</span> <span class="title">clearBuffer</span><span class="params">()</span> æ¸…é™¤ç¼“å†²åŒºçš„å†…å®¹ï¼Œå¦‚æœåœ¨<span class="title">flush</span><span class="params">()</span>ä¹‹åè°ƒç”¨ä¸ä¼šæŠ›å‡ºå¼‚å¸¸4.<span class="keyword">void</span> <span class="title">flush</span><span class="params">()</span>  å°†ç¼“å†²åŒºå†…å®¹è¾“å‡ºåˆ°å®¢æˆ·ç«¯5.<span class="keyword">int</span> <span class="title">getBufferSize</span><span class="params">()</span>  è¿”å›ç¼“å†²åŒºå­—èŠ‚æ•°çš„å¤§å°ï¼Œå¦‚ä¸è®¾ç¼“å†²åŒºåˆ™ä¸º06.<span class="keyword">int</span> <span class="title">getRemaining</span><span class="params">()</span>  è¿”å›ç¼“å†²åŒºè¿˜å‰©ä½™å¤šå°‘å¯ç”¨7.<span class="keyword">boolean</span> <span class="title">isAutoFlush</span><span class="params">()</span>  è¿”å›ç¼“å†²åŒºæ»¡æ—¶ï¼Œæ˜¯è‡ªåŠ¨æ¸…ç©ºè¿˜æ˜¯æŠ›å‡ºå¼‚å¸¸8.<span class="keyword">void</span> <span class="title">close</span><span class="params">()</span>  å…³é—­è¾“å‡ºæµ</span></span><br></pre></td></tr></table></figure>

<p>ä»£ç ï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;  &lt;%    out.println("&lt;h2&gt;é™å¤œæ€&lt;/h2&gt;");    out.println("åºŠå‰æ˜æœˆå…‰ &lt;br&gt;");    out.println("ç–‘ä¼¼åœ°ä¸Šéœœ &lt;br&gt;");    out.println("ä¸¾å¤´æœ›æ˜æœˆ &lt;br&gt;");    out.println("ä½å¤´æ€æ•…ä¹¡ &lt;br&gt;");   %&gt;    &lt;br&gt;    ç¼“å†²åŒºå¤§å°ï¼š&lt;%=out.getBufferSize() %&gt;byte&lt;br&gt;    ç¼“å†²åŒºå‰©ä½™å¤§å°ï¼š&lt;%=out.getRemaining() %&gt;byte&lt;br&gt;    æ˜¯å¦è‡ªåŠ¨æ¸…é™¤ç¼“å†²åŒºï¼š&lt;%=out.isAutoFlush() %&gt;&lt;br&gt;  &lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h2 id="äºŒã€requestå¯¹è±¡"><a href="#äºŒã€requestå¯¹è±¡" class="headerlink" title="äºŒã€requestå¯¹è±¡"></a>äºŒã€requestå¯¹è±¡</h2><p>å®¢æˆ·ç«¯çš„è¯·æ±‚ä¿¡æ¯è¢«å°è£…åœ¨requestå¯¹è±¡ä¸­ï¼Œé€šè¿‡ä»–æ‰èƒ½äº†è§£åˆ°å®¢æˆ·çš„éœ€æ±‚ï¼Œç„¶ååšå‡ºå“åº”ã€‚ä»–æ˜¯<strong>HttpServletRequest</strong>çš„å®ä¾‹ã€‚requestå¯¹è±¡å…·æœ‰è¯·æ±‚åŸŸï¼Œå³å®Œæˆå®¢æˆ·ç«¯çš„è¯·æ±‚ä¹‹å‰ï¼Œè¯¥å¯¹è±¡ä¸€ç›´æœ‰æ•ˆã€‚å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">String <span class="title">getParameter</span><span class="params">(String name)</span> è¿”å›nameæŒ‡å®šå‚æ•°çš„å‚æ•°å€¼String[] <span class="title">getParameterValues</span><span class="params">(String name)</span> è¿”å›åŒ…å«å‚æ•°nameçš„æ‰€æœ‰å€¼çš„æ•°ç»„<span class="keyword">void</span> <span class="title">setAttribute</span><span class="params">(String,Object)</span> å­˜å‚¨æ­¤è¯·æ±‚ä¸­çš„å±æ€§Object <span class="title">getAttribute</span><span class="params">(String name)</span> è¿”å›æŒ‡å®šå±æ€§çš„å±æ€§å€¼String <span class="title">getContentType</span><span class="params">()</span> å¾—åˆ°è¯·æ±‚ä½“çš„MIMEç±»å‹String <span class="title">getProtocol</span><span class="params">()</span> è¿”å›è¯·æ±‚ç”¨çš„åè®®ç±»å‹åŠç‰ˆæœ¬å·String <span class="title">getServerName</span><span class="params">()</span> è¿”å›æ¥å—è¯·æ±‚çš„æœåŠ¡å™¨ä¸»æœºå<span class="keyword">int</span> <span class="title">getServerPort</span><span class="params">()</span> è¿”å›æœåŠ¡å™¨æ¥å—è¯¥è¯·æ±‚æ‰€ç”¨çš„ç«¯å£å·String <span class="title">getCharacterEncoding</span><span class="params">()</span> è¿”å›å­—ç¬¦ç¼–ç æ–¹å¼<span class="keyword">void</span> <span class="title">setCharacterEncoding</span><span class="params">()</span> è®¾ç½®è¯·æ±‚çš„å­—ç¬¦ç¼–ç æ–¹å¼<span class="keyword">int</span> <span class="title">getCotentLenth</span><span class="params">()</span> è¿”å›è¯·æ±‚ä½“çš„é•¿åº¦ï¼ˆå­—èŠ‚æ•°ï¼‰String <span class="title">getRemoteAddr</span><span class="params">()</span> è¿”å›å‘é€æ­¤è¯·æ±‚çš„å®¢æˆ·ç«¯IPåœ°å€String <span class="title">getRealPath</span><span class="params">(String path)</span> è¿”å›ä¸€è™šæ‹Ÿè·¯å¾„çš„çœŸå®è·¯å¾„String <span class="title">getContextPath</span><span class="params">()</span> è¿”å›ä¸Šä¸‹æ–‡è·¯å¾„</span></span><br></pre></td></tr></table></figure>

<p>ä»£ç ï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">login.jspï¼š&lt;body&gt;    &lt;h1&gt;ç”¨æˆ·æ³¨å†Œ&lt;/h1&gt;    &lt;hr&gt;    &lt;form action="request.jsp" name="regForm" method="post"&gt;        &lt;table&gt;            &lt;tr&gt;                &lt;td&gt;ç”¨æˆ·åï¼š&lt;/td&gt;                &lt;td&gt;&lt;input type="text" name="username"/&gt;&lt;/td&gt;            &lt;/tr&gt;            &lt;tr&gt;                &lt;td&gt;çˆ±å¥½ï¼š&lt;/td&gt;                &lt;td&gt;                    &lt;input type="checkbox" name="favorite" value="read"&gt;è¯»ä¹¦                    &lt;input type="checkbox" name="favorite" value="music"&gt;éŸ³ä¹                    &lt;input type="checkbox" name="favorite" value="movie"&gt;ç”µå½±                    &lt;input type="checkbox" name="favorite" value="internet"&gt;æ’çƒ                &lt;/td&gt;            &lt;/tr&gt;            &lt;tr&gt;                &lt;td colspan="2"&gt;&lt;input type="submit" value="æäº¤"/&gt;&lt;/td&gt;            &lt;/tr&gt;        &lt;/table&gt;    &lt;/form&gt;    &lt;br&gt;&lt;br&gt;    &lt;a href="request.jsp?username="å¼ ä¸‰"&gt;æµ‹è¯•URLä¼ å‚æ•°&lt;/a&gt;  &lt;/body&gt;</span><br><span class="line">request.jsp:&lt;body&gt;    &lt;h1&gt;requestå†…ç½®å¯¹è±¡&lt;/h1&gt;    &lt;%request.setCharacterEncoding("utf-8"); %&gt; &lt;%--è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ï¼Œæ— æ³•è§£å†³urlä¼ é€’ä¸­æ–‡çš„ä¹±ç é—®é¢˜ --%&gt;    &lt;%        request.setAttribute("password" , "123456");     %&gt;    ç”¨æˆ·åï¼š&lt;%=request.getParameter("username") %&gt;    &lt;br&gt;    çˆ±å¥½ï¼š    &lt;%        if(request.getParameterValues("favorite")!=null)        &#123;            String[] favorites=request.getParameterValues("favorite");            for(int i=0;i&lt;favorites.length;i++)&#123;                out.write(favorites[i]+"&amp;nbsp;&amp;nbsp;");            &#125;        &#125;    %&gt;&lt;br&gt;    å¯†ç ï¼š&lt;%=request.getAttribute("password") %&gt;&lt;br&gt;    è¯·æ±‚ä½“çš„MIMEç±»å‹ï¼š&lt;%=request.getContentType() %&gt;&lt;br&gt;    åè®®ç±»å‹åŠç‰ˆæœ¬å·ï¼š&lt;%=request.getProtocol() %&gt;&lt;br&gt;    æœåŠ¡å™¨ä¸»æœºåï¼š&lt;%=request.getServerName() %&gt;&lt;br&gt;    æœåŠ¡å™¨ç«¯å£åï¼š&lt;%=request.getServerPort() %&gt;&lt;br&gt;    è¯·æ±‚æ–‡ä»¶é•¿åº¦ï¼š&lt;%=request.getContentLength() %&gt;&lt;br&gt;    è¯·æ±‚å®¢æˆ·ç«¯çš„IPåœ°å€ï¼š&lt;%=request.getRemoteAddr() %&gt;&lt;br&gt;    è¯·æ±‚çš„çœŸå®è·¯å¾„ï¼š&lt;%=request.getRealPath("request.jsp") %&gt;&lt;br&gt;    è¯·æ±‚çš„ä¸Šä¸‹æ–‡è·¯å¾„ï¼š&lt;%=request.getContextPath() %&gt;&lt;br&gt;  &lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ä¸‰ã€responseå¯¹è±¡"><a href="#ä¸‰ã€responseå¯¹è±¡" class="headerlink" title="ä¸‰ã€responseå¯¹è±¡"></a>ä¸‰ã€responseå¯¹è±¡</h2><p>responseå¯¹è±¡åŒ…å«äº†ç›¸åº”å®¢æˆ·è¯·æ±‚çš„æœ‰å…³ä¿¡æ¯ï¼Œä½†åœ¨jspä¸­å¾ˆå°‘ç›´æ¥ä½¿ç”¨åˆ°å®ƒã€‚å®ƒæ˜¯<strong>HttpServerResponse</strong>ç±»çš„å®ä¾‹ã€‚responseå¯¹è±¡å…·æœ‰é¡µé¢ä½œç”¨åŸŸï¼Œå³è®¿é—®ä¸€ä¸ªé¡µé¢æ—¶ï¼Œè¯¥é¡µé¢å†…çš„responseå¯¹è±¡åªèƒ½å¯¹è¿™æ¬¡è®¿é—®æœ‰æ•ˆï¼Œå…¶ä»–é¡µé¢çš„responseå¯¹è±¡å¯¹å½“å‰é¡µé¢æ— æ•ˆã€‚å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String getCharacterEncoding() è¿”å›å“åº”ç”¨çš„æ˜¯ä½•ç§å­—ç¬¦ç¼–ç void setContentType() è®¾ç½®å“åº”çš„MIMEç±»å‹printWriter getWriter() è¿”å›å¯ä»¥å‘å®¢æˆ·ç«¯è¾“å‡ºå­—ç¬¦çš„ä¸€ä¸ªå¯¹è±¡ï¼ˆæ³¨æ„æ¯”è¾ƒprintWriterå’Œå†…ç½®å¯¹è±¡outçš„åŒºåˆ«ï¼‰sendRedirect(java.lang.String location) é‡æ–°å®šå‘å®¢æˆ·ç«¯çš„è¯·æ±‚</span><br></pre></td></tr></table></figure>

<p>è¯·æ±‚è½¬å‘å’Œè¯·æ±‚é‡å®šå‘åŒºåˆ«ï¼š<br>1.è¯·æ±‚é‡å®šå‘ï¼šå®¢æˆ·ç«¯è¡Œä¸ºï¼Œ<strong>response.sendRedirect()</strong>ï¼Œä»æœ¬è´¨ä¸Šæ¥è®²ç­‰åŒäºä¸¤æ¬¡è¯·æ±‚ï¼Œå‰ä¸€æ¬¡è¯·æ±‚å¯¹è±¡ä¸ä¼šä¿å­˜ï¼Œåœ°å€æ çš„URLå¯¹è±¡ä¼šæ”¹å˜ã€‚<br>2.è¯·æ±‚è½¬å‘ï¼šæœåŠ¡å™¨è¡Œä¸ºï¼Œ<strong>request.getRequestDispatcher().forward(request,response)</strong>ï¼›æ˜¯ä¸€æ¬¡è¯·æ±‚ï¼Œè½¬å‘åè¯·æ±‚å¯¹è±¡ä¼šä¿å­˜ï¼Œåœ°å€æ çš„URLåœ°å€ä¸ä¼šæ”¹å˜ã€‚<br>ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%<span class="meta">@page</span> <span class="keyword">import</span>=<span class="string">"java.io.PrintWriter"</span>%&gt;&lt;%@ page language=<span class="string">"java"</span> <span class="keyword">import</span>=<span class="string">"java.util.*"</span> contentType=<span class="string">"text/html; charset=utf-8"</span>%&gt;&lt;%    response.setContentType(<span class="string">"text/html; charset=utf-8"</span>);<span class="comment">//è®¾ç½®å“åº”çš„MIMEç±»å‹    out.println("&lt;h1&gt;responseå†…ç½®å¯¹è±¡&lt;h1&gt;");    out.println("&lt;hr&gt;");    //out.flush();    PrintWriter outer=response.getWriter();//è·å¾—è¾“å‡ºæµå¯¹è±¡    outer.println("å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯responseå¯¹è±¡ç”Ÿæˆçš„outerå¯¹è±¡");    response.sendRedirect("reg.jsp");//è¯·æ±‚é‡å®šå‘ %&gt;</span></span><br></pre></td></tr></table></figure>
            <br />
            <p class="meta">
                
            </p>
        </div>

        <div class="col-sm-4">
            

<span><b>
        TL;DR</b></span>
<p>
    Yet another hexo theme.
</p>
<hr />


<span><b>
        TL;DR 2</b></span>
<p>
    No, not another one :/
</p>
<hr />






<span><a href="https://twitter.com/hexojs" target="_blank" rel="noopener"><b><i class="fab fa-twitter-square"></i>
            <i class="fas fa-at"></i>
            hexojs</b></a></span>
<br />
<a class="twitter-timeline" data-height="800" data-dnt="true" data-chrome="nofooter transparent noheader noborders "
    href="https://twitter.com/hexojs?ref_src=twsrc%5Etfw"></a>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

        </div>
    </div>
</div>
<!-- Menu fade on scroll -->
<script>
    var isScrolling;
    var prevScrollpos = window.pageYOffset;
    window.addEventListener('scroll', function (event) {
        window.clearTimeout(isScrolling);
        isScrolling = setTimeout(function () {
            var currentScrollPos = window.pageYOffset;
            if (prevScrollpos > currentScrollPos) {
                $("#navbar").slideDown();
            } else {
                $("#navbar").slideUp();
            }
            prevScrollpos = currentScrollPos;
        }, 66);
    }, false);
</script>

<a class="float-left gradient btn paginationbtn" href="/2019/11/10/Requestå’ŒResponseçš„åŒºåˆ«/"><i class="fas fa-chevron-left"></i></a>


<a class="float-right gradient btn paginationbtn" href="/2019/11/27/å…³äºjQueryä¸­â€œanimate-â€å‡½æ•°å¯¹é¢œè‰²å˜åŒ–çš„æ”¯æŒ/"><i class="fas fa-chevron-right"></i></a>

    </main>
    <!-- Footer -->
    <footer class="page-footer">
  <div class="container">
    <div class="social-icons">
      
      <a href="https://hexo.io/" title="Hexo.io" target="_blank" rel="noopener" class="fas fa-home"></a>
      
      <a href="https://twitter.com/hexojs" title="@hexojs" target="_blank" rel="noopener" class="fab fa-twitter"></a>
      
      <a href="https://github.com/RandomAdversary/Gradient/issues" title="Report issue" target="_blank" rel="noopener" class="fas fa-bug"></a>
      
    </div>
  </div>
</footer>
    <!-- After footer scripts -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
    crossorigin="anonymous"></script>
</body>

</html>